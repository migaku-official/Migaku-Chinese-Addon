var pinyinToBopo={ba:"ㄅㄚ",bo:"ㄅㄛ",bai:"ㄅㄞ",bei:"ㄅㄟ",bao:"ㄅㄠ",ban:"ㄅㄢ",ben:"ㄅㄣ",bang:"ㄅㄤ",beng:"ㄅㄥ",bi:"ㄅㄧ",bie:"ㄅㄧㄝ",biao:"ㄅㄧㄠ",bian:"ㄅㄧㄢ",bin:"ㄅㄧㄣ",bing:"ㄅㄧㄥ",bu:"ㄅㄨ",pa:"ㄆㄚ",po:"ㄆㄛ",pai:"ㄆㄞ",pei:"ㄆㄟ",pao:"ㄆㄠ",pou:"ㄆㄡ",pan:"ㄆㄢ",pen:"ㄆㄣ",pang:"ㄆㄤ",peng:"ㄆㄥ",pi:"ㄆㄧ",pia:"ㄆㄧㄚ",pie:"ㄆㄧㄝ",piao:"ㄆㄧㄠ",pian:"ㄆㄧㄢ",pin:"ㄆㄧㄣ",ping:"ㄆㄧㄥ",pu:"ㄆㄨ",pur:"ㄆㄨㄦ",ma:"ㄇㄚ",mo:"ㄇㄛ",mai:"ㄇㄞ",mei:"ㄇㄟ",mao:"ㄇㄠ",mou:"ㄇㄡ",man:"ㄇㄢ",men:"ㄇㄣ",mang:"ㄇㄤ",meng:"ㄇㄥ",mi:"ㄇㄧ",mie:"ㄇㄧㄝ",miao:"ㄇㄧㄠ",miu:"ㄇㄧㄡ",mian:"ㄇㄧㄢ",min:"ㄇㄧㄣ",ming:"ㄇㄧㄥ",mu:"ㄇㄨ",fa:"ㄈㄚ",fo:"ㄈㄛ",fei:"ㄈㄟ",fou:"ㄈㄡ",fan:"ㄈㄢ",fen:"ㄈㄣ",fang:"ㄈㄤ",feng:"ㄈㄥ",fu:"ㄈㄨ",da:"ㄉㄚ",de:"ㄉㄜ",dai:"ㄉㄞ",dei:"ㄉㄟ",dao:"ㄉㄠ",dou:"ㄉㄡ",dan:"ㄉㄢ",den:"ㄉㄣ",dang:"ㄉㄤ",deng:"ㄉㄥ",di:"ㄉㄧ",die:"ㄉㄧㄝ",diao:"ㄉㄧㄠ",diu:"ㄉㄧㄡ",dian:"ㄉㄧㄢ",ding:"ㄉㄧㄥ",du:"ㄉㄨ",duo:"ㄉㄨㄛ",dui:"ㄉㄨㄟ",duan:"ㄉㄨㄢ",dun:"ㄉㄨㄣ",dong:"ㄉㄨㄥ",dur:"ㄉㄨㄦ",ta:"ㄊㄚ",te:"ㄊㄜ",tai:"ㄊㄞ",tao:"ㄊㄠ",tou:"ㄊㄡ",tan:"ㄊㄢ",tang:"ㄊㄤ",teng:"ㄊㄥ",ti:"ㄊㄧ",tie:"ㄊㄧㄝ",tiao:"ㄊㄧㄠ",tian:"ㄊㄧㄢ",ting:"ㄊㄧㄥ",tu:"ㄊㄨ",tuo:"ㄊㄨㄛ",tui:"ㄊㄨㄟ",tuan:"ㄊㄨㄢ",tun:"ㄊㄨㄣ",tong:"ㄊㄨㄥ",na:"ㄋㄚ",ne:"ㄋㄜ",nai:"ㄋㄞ",nei:"ㄋㄟ",nao:"ㄋㄠ",nou:"ㄋㄡ",nan:"ㄋㄢ",nen:"ㄋㄣ",nang:"ㄋㄤ",neng:"ㄋㄥ",ni:"ㄋㄧ",nie:"ㄋㄧㄝ",niao:"ㄋㄧㄠ",niu:"ㄋㄧㄡ",nian:"ㄋㄧㄢ",nin:"ㄋㄧㄣ",niang:"ㄋㄧㄤ",ning:"ㄋㄧㄥ",nu:"ㄋㄨ",nuo:"ㄋㄨㄛ",nuan:"ㄋㄨㄢ",nun:"ㄋㄨㄣ",nong:"ㄋㄨㄥ",nu:"ㄋㄩ",nue:"ㄋㄩㄝ",la:"ㄌㄚ",le:"ㄌㄜ",lai:"ㄌㄞ",lei:"ㄌㄟ",lao:"ㄌㄠ",lou:"ㄌㄡ",lan:"ㄌㄢ",lang:"ㄌㄤ",leng:"ㄌㄥ",li:"ㄌㄧ",lia:"ㄌㄧㄚ",lie:"ㄌㄧㄝ",liao:"ㄌㄧㄠ",liu:"ㄌㄧㄡ",lian:"ㄌㄧㄢ",lin:"ㄌㄧㄣ",liang:"ㄌㄧㄤ",ling:"ㄌㄧㄥ",lu:"ㄌㄨ",luo:"ㄌㄨㄛ",luan:"ㄌㄨㄢ",lun:"ㄌㄨㄣ",long:"ㄌㄨㄥ",lu:"ㄌㄩ",lue:"ㄌㄩㄝ",luan:"ㄌㄩㄢ",ga:"ㄍㄚ",ge:"ㄍㄜ",gai:"ㄍㄞ",gei:"ㄍㄟ",gao:"ㄍㄠ",gou:"ㄍㄡ",gan:"ㄍㄢ",gen:"ㄍㄣ",gang:"ㄍㄤ",geng:"ㄍㄥ",gu:"ㄍㄨ",gua:"ㄍㄨㄚ",guo:"ㄍㄨㄛ",guai:"ㄍㄨㄞ",gui:"ㄍㄨㄟ",guan:"ㄍㄨㄢ",gun:"ㄍㄨㄣ",guang:"ㄍㄨㄤ",gong:"ㄍㄨㄥ",gur:"ㄍㄨㄦ",ka:"ㄎㄚ",ke:"ㄎㄜ",kai:"ㄎㄞ",kao:"ㄎㄠ",kou:"ㄎㄡ",kan:"ㄎㄢ",ken:"ㄎㄣ",kang:"ㄎㄤ",keng:"ㄎㄥ",ku:"ㄎㄨ",kua:"ㄎㄨㄚ",kuo:"ㄎㄨㄛ",kuai:"ㄎㄨㄞ",kui:"ㄎㄨㄟ",kuan:"ㄎㄨㄢ",kun:"ㄎㄨㄣ",kuang:"ㄎㄨㄤ",kong:"ㄎㄨㄥ",ha:"ㄏㄚ",he:"ㄏㄜ",hai:"ㄏㄞ",hei:"ㄏㄟ",hao:"ㄏㄠ",hou:"ㄏㄡ",han:"ㄏㄢ",hen:"ㄏㄣ",hang:"ㄏㄤ",heng:"ㄏㄥ",hu:"ㄏㄨ",hua:"ㄏㄨㄚ",huo:"ㄏㄨㄛ",huai:"ㄏㄨㄞ",hui:"ㄏㄨㄟ",huan:"ㄏㄨㄢ",hun:"ㄏㄨㄣ",huang:"ㄏㄨㄤ",hong:"ㄏㄨㄥ",hur:"ㄏㄨㄦ",ji:"ㄐㄧ",jia:"ㄐㄧㄚ",jie:"ㄐㄧㄝ",jiao:"ㄐㄧㄠ",jiu:"ㄐㄧㄡ",jian:"ㄐㄧㄢ",jin:"ㄐㄧㄣ",jiang:"ㄐㄧㄤ",jing:"ㄐㄧㄥ",ju:"ㄐㄩ",jue:"ㄐㄩㄝ",juan:"ㄐㄩㄢ",jun:"ㄐㄩㄣ",jiong:"ㄐㄩㄥ",jur:"ㄐㄩㄦ",qi:"ㄑㄧ",qia:"ㄑㄧㄚ",qie:"ㄑㄧㄝ",qiao:"ㄑㄧㄠ",qiu:"ㄑㄧㄡ",qian:"ㄑㄧㄢ",qin:"ㄑㄧㄣ",qiang:"ㄑㄧㄤ",qing:"ㄑㄧㄥ",qir:"ㄑㄧㄦ",qu:"ㄑㄩ",que:"ㄑㄩㄝ",quan:"ㄑㄩㄢ",qun:"ㄑㄩㄣ",qiong:"ㄑㄩㄥ",xi:"ㄒㄧ",xia:"ㄒㄧㄚ",xie:"ㄒㄧㄝ",xiao:"ㄒㄧㄠ",xiu:"ㄒㄧㄡ",xian:"ㄒㄧㄢ",xin:"ㄒㄧㄣ",xiang:"ㄒㄧㄤ",xing:"ㄒㄧㄥ",xu:"ㄒㄩ",xue:"ㄒㄩㄝ",xuan:"ㄒㄩㄢ",xun:"ㄒㄩㄣ",xiong:"ㄒㄩㄥ",zhi:"ㄓ",zha:"ㄓㄚ",zhe:"ㄓㄜ",zhai:"ㄓㄞ",zhei:"ㄓㄟ",zhao:"ㄓㄠ",zhou:"ㄓㄡ",zhan:"ㄓㄢ",zhen:"ㄓㄣ",zhang:"ㄓㄤ",zheng:"ㄓㄥ",zhir:"ㄓㄦ",zhu:"ㄓㄨ",zhua:"ㄓㄨㄚ",zhuo:"ㄓㄨㄛ",zhuai:"ㄓㄨㄞ",zhui:"ㄓㄨㄟ",zhuan:"ㄓㄨㄢ",zhun:"ㄓㄨㄣ",zhuang:"ㄓㄨㄤ",zhong:"ㄓㄨㄥ",zhur:"ㄓㄨㄦ",chi:"ㄔ",cha:"ㄔㄚ",che:"ㄔㄜ",chai:"ㄔㄞ",chao:"ㄔㄠ",chou:"ㄔㄡ",chan:"ㄔㄢ",chen:"ㄔㄣ",chang:"ㄔㄤ",cheng:"ㄔㄥ",chir:"ㄔㄦ",chu:"ㄔㄨ",chua:"ㄔㄨㄚ",chuo:"ㄔㄨㄛ",chuai:"ㄔㄨㄞ",chui:"ㄔㄨㄟ",chuan:"ㄔㄨㄢ",chun:"ㄔㄨㄣ",chuang:"ㄔㄨㄤ",chong:"ㄔㄨㄥ",chur:"ㄔㄨㄦ",shi:"ㄕ",sha:"ㄕㄚ",she:"ㄕㄜ",shai:"ㄕㄞ",shei:"ㄕㄟ",shao:"ㄕㄠ",shou:"ㄕㄡ",shan:"ㄕㄢ",shen:"ㄕㄣ",shang:"ㄕㄤ",sheng:"ㄕㄥ",shu:"ㄕㄨ",shua:"ㄕㄨㄚ",shuo:"ㄕㄨㄛ",shuai:"ㄕㄨㄞ",shui:"ㄕㄨㄟ",shuan:"ㄕㄨㄢ",shun:"ㄕㄨㄣ",shuang:"ㄕㄨㄤ",ri:"ㄖ",re:"ㄖㄜ",rao:"ㄖㄠ",rou:"ㄖㄡ",ran:"ㄖㄢ",ren:"ㄖㄣ",rang:"ㄖㄤ",reng:"ㄖㄥ",ru:"ㄖㄨ",ruo:"ㄖㄨㄛ",rui:"ㄖㄨㄟ",ruan:"ㄖㄨㄢ",run:"ㄖㄨㄣ",rong:"ㄖㄨㄥ",zi:"ㄗ",za:"ㄗㄚ",ze:"ㄗㄜ",zai:"ㄗㄞ",zei:"ㄗㄟ",zao:"ㄗㄠ",zou:"ㄗㄡ",zan:"ㄗㄢ",zen:"ㄗㄣ",zang:"ㄗㄤ",zeng:"ㄗㄥ",zu:"ㄗㄨ",zuo:"ㄗㄨㄛ",zui:"ㄗㄨㄟ",zuan:"ㄗㄨㄢ",zun:"ㄗㄨㄣ",zong:"ㄗㄨㄥ",ci:"ㄘ",ca:"ㄘㄚ",ce:"ㄘㄜ",cai:"ㄘㄞ",cao:"ㄘㄠ",cou:"ㄘㄡ",can:"ㄘㄢ",cen:"ㄘㄣ",cang:"ㄘㄤ",ceng:"ㄘㄥ",cu:"ㄘㄨ",cuo:"ㄘㄨㄛ",cui:"ㄘㄨㄟ",cuan:"ㄘㄨㄢ",cun:"ㄘㄨㄣ",cong:"ㄘㄨㄥ",si:"ㄙ",sa:"ㄙㄚ",se:"ㄙㄜ",sai:"ㄙㄞ",sei:"ㄙㄟ",sao:"ㄙㄠ",sou:"ㄙㄡ",san:"ㄙㄢ",sen:"ㄙㄣ",sang:"ㄙㄤ",seng:"ㄙㄥ",su:"ㄙㄨ",suo:"ㄙㄨㄛ",sui:"ㄙㄨㄟ",suan:"ㄙㄨㄢ",sun:"ㄙㄨㄣ",song:"ㄙㄨㄥ",a:"ㄚ",o:"ㄛ",e:"ㄜ",e:"ㄝ",ai:"ㄞ",ei:"ㄟ",ao:"ㄠ",ou:"ㄡ",an:"ㄢ",en:"ㄣ",ang:"ㄤ",eng:"ㄥ",er:"ㄦ",yi:"ㄧ",ya:"ㄧㄚ",yo:"ㄧㄛ",ye:"ㄧㄝ",yai:"ㄧㄞ",yao:"ㄧㄠ",you:"ㄧㄡ",yan:"ㄧㄢ",yin:"ㄧㄣ",yang:"ㄧㄤ",ying:"ㄧㄥ",wu:"ㄨ",wa:"ㄨㄚ",wo:"ㄨㄛ",wai:"ㄨㄞ",wei:"ㄨㄟ",wan:"ㄨㄢ",wen:"ㄨㄣ",wang:"ㄨㄤ",weng:"ㄨㄥ",yu:"ㄩ",yue:"ㄩㄝ",yuan:"ㄩㄢ",yun:"ㄩㄣ","ㄩㄥ":"yong"};function getChineseWrappers(n){for(var a=document.getElementsByClassName("wrapped-chinese"),i=[],u=0;u<a.length;u++)a[u].getAttribute("reading-type")==n&&i.push(a[u]);return i}function getBrackets(n){return n.match(/\[.+?\]/gm)}function convertToBopo(n){for(var a=0;a<n.length;a++){var i=n[a].innerHTML;if(-1!==i.indexOf("[")&&(!i.match(/\[\d/gm)||i.match(/\[\D/gm))){for(var u,e,o=getBrackets(i),g=0;g<o.length;g++){e=o[g].replace("[","").replace("]","").split(" ");for(var h=0;h<e.length;h++){var r,t=(u=e[h]).substring(u.length-1);-1!==["1","2","3","4","5"].indexOf(t)&&(r=pinyinToBopo[u.substring(0,u.length-1)]+["","ˊ","ˇ","ˋ","˙"][parseInt(t-1)],i=i.replace(u,r))}}n[a].innerHTML=i,n[a].setAttribute("reading-type","bopomofo")}}}bopomofoToPinyin=function(n){return full_conversion_table[n]};var pinyins=getChineseWrappers("pinyin");convertToBopo(pinyins);